@function em($pixels, $context: false) {
    @if not ($context) {
        $context: $font-size;
    }

    @if (unitless($pixels)) {
        $pixels: $pixels * 1px;
    }

    @if (unitless($context)) {
        $context: $context * 1px;
    }

    @if (unit($pixels) != 'px') {
        @error "Error while converting to EM unit. Value [#{$pixels}] must be in pixels";
    }

    @return ($pixels / $context) * 1em
}